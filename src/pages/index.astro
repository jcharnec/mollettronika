---
import MainLayout from "../layouts/Layout.astro";
import Countdown from "../components/Countdown.astro";
import EventTimeline from "../components/EventTimeline.astro";
import FreeEntry from "../components/FreeEntry.astro";
import FAQ from "../components/FAQ.astro";
import LocationMap from "../components/LocationMap.astro";
import fondoOptimizado from "../assets/fondo-mollettronika.jpg";

const EVENT_DATE = "2026-04-25T19:00:00";
const EVENT_DATE_DISPLAY = "25 Abril 2026";
const EVENT_LOCATION = "Mercat Vell, Mollet del Vall√®s";
---

<script>
    const observer = new IntersectionObserver(
        (entries) => {
            entries.forEach((entry) => {
                if (entry.isIntersecting) {
                    entry.target.classList.add("visible");
                    observer.unobserve(entry.target);
                }
            });
        },
        { threshold: 0.2 }
    );

    document
        .querySelectorAll(
            ".fade-in-left, .fade-in-right, .fade-in-bottom, .fade-in-footer"
        )
        .forEach((el) => {
            observer.observe(el);
        });
</script>

<MainLayout title="Mollettronika | Festival de M√∫sica Electr√≥nica">
    <section class="hero fade-in-bottom">
        <div class="hero-bg">
            <picture>
                <source srcset={fondoOptimizado.src} type="image/webp" />
                <img
                    src={fondoOptimizado.src}
                    alt="Ambiente de fiesta electr√≥nica Mollettronika"
                    class="full-cover-img"
                    width="1920"
                    height="1080"
                    loading="eager"
                />
            </picture>
        </div>

        <div class="overlay"></div>

        <div class="hero-content">
            <h1 class="hero-title">
                Moll<span>et</span>tronika
            </h1>

            <p class="event-date">{EVENT_DATE_DISPLAY} | {EVENT_LOCATION}</p>

            <Countdown targetDate={EVENT_DATE} />

            <p class="free-entry-text">
                üéüÔ∏è ENTRADA LIBRE HASTA COMPLETAR AFORO
            </p>

            <a href="/lineup" class="cta-button hero-cta">
                Ver Line Up Completo
            </a>
        </div>
    </section>

    <section id="artistas" class="placeholder-section fade-in-right">
        <div class="container">
            <h2 class="section-title">Artistas Confirmados</h2>
            <ul class="artist-list">
                <li><strong>SBK101</strong> ¬∑ Deep House</li>
                <li><strong>Soveroon b2b HotTape</strong> ¬∑ Techno</li>
                <li><strong>Carol NYX</strong> ¬∑ Psy Trance / Techno</li>
                <li>
                    <strong>Rowsi b2b Didixx</strong> ¬∑ Hard Trance / Bounce
                </li>
            </ul>
            <div class="cta-container">
                <a href="/lineup" class="cta-button">Ver Horarios Completos</a>
            </div>
        </div>
    </section>

    <FreeEntry class="fade-in-left" />

    <section id="ubicacion" class="location-section fade-in-bottom">
        <div class="container location-grid">
            <div class="location-info">
                <h2 class="section-title">üìç Ubicaci√≥n</h2>

                <p class="location-address">
                    <strong>Mercat Vell</strong><br />
                    Pla√ßa Prat de la Riba, 6<br />
                    08100 Mollet del Vall√®s, Barcelona
                </p>

                <div class="transport-box">
                    <h3>üöÜ C√≥mo llegar</h3>
                    <p>
                        <strong>Transporte p√∫blico:</strong> A 7 min de la estaci√≥n
                        de tren <br />
                        <em>Mollet - Sant Fost</em> (R2, R2N, R8) y paradas de autob√∫s
                        cercanas.
                    </p>
                    <p>
                        <strong>üöó Parking:</strong> Zonas de aparcamiento gratuitas
                        en calles cercanas.<br />
                        Consulta tambi√©n parkings p√∫blicos.
                    </p>
                </div>
            </div>

            <div class="location-map">
                <LocationMap />
            </div>
        </div>
    </section>
</MainLayout>

<style>
    /* === GENERAL === */

    /* === HERO SECTION === */
    .hero {
        position: relative;
        height: 100vh;
        overflow: hidden;
        margin-top: calc(-1 * var(--header-height));
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
    }

    .hero-bg {
        position: absolute;
        inset: 0;
        z-index: 0;
    }

    .full-cover-img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        object-position: center;
        animation: zoom-effect 20s infinite alternate ease-in-out;
    }

    @keyframes zoom-effect {
        0% {
            transform: scale(1);
        }
        100% {
            transform: scale(1.08);
        }
    }

    .overlay {
        position: absolute;
        inset: 0;
        background: linear-gradient(
            to bottom,
            rgba(0, 0, 0, 0.75) 0%,
            rgba(var(--color-accent-dark-rgb), 0.5) 70%,
            rgba(0, 0, 0, 0.9) 100%
        );
        z-index: 1;
    }

    .hero-content {
        position: relative;
        z-index: 2;
        padding: 2rem;
        max-width: 900px;
    }

    .hero-title {
        font-size: clamp(3.5rem, 10vw, 6rem);
        font-weight: 900;
        text-transform: uppercase;
        color: var(--color-light);
        text-shadow: 0 0 20px var(--color-accent-dark);
        margin-bottom: 1rem;
    }

    .hero-title span {
        color: var(--color-accent);
        text-shadow: 0 0 25px var(--color-accent-light);
    }

    .event-date {
        font-size: clamp(1.1rem, 3vw, 1.5rem);
        color: var(--color-text);
        font-weight: bold;
        margin-bottom: 2rem;
        text-shadow: 0 0 8px var(--color-accent-dark);
    }

    .free-entry-text {
        background-color: rgba(var(--color-accent-dark-rgb), 0.8);
        color: var(--color-light);
        padding: 0.8rem 1.8rem;
        border-radius: 50px;
        font-weight: bold;
        margin-top: 2rem;
        display: inline-block;
        box-shadow: 0 0 15px rgba(var(--color-accent-rgb), 0.5);
        border: 1px solid var(--color-accent);
        font-size: clamp(0.9rem, 3vw, 1.1rem);
    }

    .hero-cta {
        margin-top: 2.5rem;
        background: var(--color-accent);
        color: var(--color-light);
        padding: 1rem 2.5rem;
        border-radius: 50px;
        font-weight: bold;
        text-decoration: none;
        display: inline-block;
        transition:
            transform 0.3s ease,
            box-shadow 0.3s ease;
    }

    .hero-cta:hover {
        transform: translateY(-4px);
        box-shadow: 0 6px 20px rgba(var(--color-accent-rgb), 0.5);
    }

    /* === ARTISTAS === */
    .artist-summary {
        background: #0a0a0a;
        padding: 4rem 1rem;
        border-top: 1px solid var(--color-accent-dark);
        text-align: center;
    }

    .artist-list {
        list-style: none;
        padding: 0;
        margin: 0 auto 2.5rem;
        max-width: 600px;
        font-size: 1.2rem;
        color: var(--color-text);
        line-height: 2.2;
    }

    .artist-list li {
        border-bottom: 1px dashed rgba(255, 0, 0, 0.2);
        padding: 0.6rem 0;
    }

    /* === UBICACI√ìN === */
    .location-grid {
        display: flex;
        flex-direction: column;
        gap: 2rem;
    }

    @media (min-width: 768px) {
        .location-grid {
            flex-direction: row;
            align-items: flex-start;
        }
        .location-info,
        .location-map {
            flex: 1;
        }
    }

    .location-address {
        margin: 1rem 0;
        font-size: 1.1rem;
        color: var(--color-text);
        line-height: 1.6;
    }
    .location-section {
        padding-block: 4rem 6rem;
    }

    .transport-box {
        background: rgba(255, 0, 0, 0.05);
        border-left: 4px solid var(--color-accent);
        padding: 2rem;
        margin-top: 2.5rem;
        border-radius: 12px;
        text-align: left;
        color: var(--color-text);
        max-width: 800px;
        margin-left: auto;
        margin-right: auto;
        box-shadow: 0 5px 15px rgba(255, 0, 0, 0.1);
    }

    .transport-box h3 {
        color: var(--color-accent-light);
        margin-bottom: 1rem;
        font-size: 1.4rem;
    }

    /* === PLACEHOLDER SECTION === */
    .placeholder-section {
        padding: 4rem 1rem;
        text-align: center;
        border-top: 1px solid var(--color-accent-dark);
    }

    .placeholder-section p {
        color: var(--color-text-muted);
        max-width: 600px;
        margin: 0 auto 1rem auto;
    }

    /* === ANIMACIONES === */
    .fade-in-left,
    .fade-in-right,
    .fade-in-bottom {
        opacity: 0;
        transform: translateY(30px);
        transition:
            opacity 0.8s ease-out,
            transform 0.8s ease-out;
    }

    .fade-in-left {
        transform: translateX(-40px);
    }

    .fade-in-right {
        transform: translateX(40px);
    }

    .fade-in-bottom {
        transform: translateY(40px);
    }

    .fade-in-left.visible,
    .fade-in-right.visible,
    .fade-in-bottom.visible {
        opacity: 1;
        transform: translateX(0) translateY(0);
    }

    /* === RESPONSIVE TWEAKS === */
    @media (max-width: 768px) {
        .hero-title {
            font-size: 2.8rem;
        }

        .event-date {
            font-size: 1.1rem;
        }

        .free-entry-text {
            font-size: 0.9rem;
            padding: 0.6rem 1.2rem;
        }

        .hero-cta,
        .cta-button {
            padding: 0.8rem 1.8rem;
            font-size: 0.9rem;
        }

        .placeholder-section h2,
        .lineup-summary h2 {
            font-size: 1.8rem;
        }
    }
</style>
